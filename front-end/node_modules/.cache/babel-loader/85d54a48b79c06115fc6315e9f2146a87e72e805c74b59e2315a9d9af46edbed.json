{"ast":null,"code":"import _regeneratorRuntime from\"/Users/asif/Desktop/project/e-dashboard/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/asif/Desktop/project/e-dashboard/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/asif/Desktop/project/e-dashboard/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductList=function ProductList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){getProducts();},[]);var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/products\",{headers:{authorization:JSON.parse(localStorage.getItem('token'))}});case 2:result=_context.sent;_context.next=5;return result.json();case 5:result=_context.sent;setProducts(result);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();var deleteProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/product/\".concat(id),{method:\"Delete\"});case 2:result=_context2.sent;_context2.next=5;return result.json();case 5:result=_context2.sent;if(result){getProducts();}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteProduct(_x){return _ref2.apply(this,arguments);};}();var searchHandle=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(event){var key,result;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:key=event.target.value;if(!key){_context3.next=11;break;}_context3.next=4;return fetch(\"http://localhost:5000/search/\".concat(key));case 4:result=_context3.sent;_context3.next=7;return result.json();case 7:result=_context3.sent;if(result){setProducts(result);}_context3.next=12;break;case 11:getProducts();case 12:case\"end\":return _context3.stop();}}},_callee3);}));return function searchHandle(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"product-list container-table container mt-5 p-20\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"plist\",children:\" Products List\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group col-xs-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-product-box\",placeholder:\"Search Product\",onChange:searchHandle})}),/*#__PURE__*/_jsxs(\"table\",{className:\" table table-hover striped-table\",children:[/*#__PURE__*/_jsx(\"thead\",{style:{padding:\"10px\"},children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S. No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Prise\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{colSpan:2,className:\"text-center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.length>0?products.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsxs(\"td\",{children:[item.price,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item.category,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[item.company,\" \"]}),/*#__PURE__*/_jsx(\"td\",{className:\"text-right\",children:/*#__PURE__*/_jsx(Link,{to:\"/update/\"+item._id,children:/*#__PURE__*/_jsx(\"button\",{className:\"button muted-button\",children:\"Update\"})})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-left\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteProduct(item._id);},className:\"button muted-button\",children:\"Delete\"})})]},item._id);}):/*#__PURE__*/_jsx(\"h1\",{children:\"No Result Found\"})})]})]});};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","Link","ProductList","products","setProducts","getProducts","fetch","headers","authorization","JSON","parse","localStorage","getItem","result","json","deleteProduct","id","method","searchHandle","event","key","target","value","padding","length","map","item","index","name","price","category","company","_id"],"sources":["/Users/asif/Desktop/project/e-dashboard/front-end/src/component/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom';\n\nconst ProductList = () => {\n    const [products, setProducts] = useState([]);\n\n    useEffect(() => {\n        getProducts();\n    }, []);\n\n    const getProducts = async () => {\n        let result = await fetch(\"http://localhost:5000/products\",{\n            headers:{\n                authorization:JSON.parse(localStorage.getItem('token'))\n            }\n        });\n        result = await result.json();\n        setProducts(result);\n    }\n    const deleteProduct = async (id) => {\n        let result = await fetch(`http://localhost:5000/product/${id}`, {\n            method: \"Delete\"\n        });\n        result = await result.json()\n        if (result) {\n            getProducts();\n        }\n    }\n    const searchHandle = async (event) => {\n        let key = event.target.value;\n        if (key) {\n            let result = await fetch(`http://localhost:5000/search/${key}`);\n            result = await result.json();\n            if (result) {\n                setProducts(result)\n            }\n        } else{\n            getProducts();\n        }\n    }\n\n    return (\n\n        <div className=\"product-list container-table container mt-5 p-20\">\n            <h1 className='plist'> Products List</h1>\n            <div className='form-group col-xs-4'>\n                <input type=\"text\" className='search-product-box' placeholder='Search Product' onChange={searchHandle} />\n            </div>\n            <table className=\" table table-hover striped-table\">\n                <thead style={{ padding: \"10px\" }}>\n                    <tr>\n                        <th>S. No</th>\n                        <th>Name</th>\n                        <th>Prise</th>\n                        <th>Category</th>\n                        <th>Company</th>\n                        <th colSpan={2} className=\"text-center\">\n                            Actions\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {\n\n                        products.length > 0 ? products.map((item, index) =>\n                            <tr key={item._id}>\n                                <td>{index + 1}</td>\n                                <td>{item.name}</td>\n                                <td>{item.price} </td>\n                                <td>{item.category} </td>\n                                <td>{item.company} </td>\n                                <td className=\"text-right\">\n                                    <Link to={\"/update/\" + item._id}>\n                                        <button className=\"button muted-button\">\n                                            Update\n                                        </button>\n                                    </Link>\n                                </td>\n                                <td className=\"text-left\">\n                                    <button onClick={() => deleteProduct(item._id)} className=\"button muted-button\">\n                                        Delete\n                                    </button>\n                                </td>\n                            </tr>\n                        ) : <h1>No Result Found</h1>}\n\n                </tbody>\n            </table>\n        </div>\n\n\n\n    );\n};\n\nexport default ProductList;"],"mappings":"qaAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAAC,wFAExC,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACtB,cAAgCF,QAAQ,CAAC,EAAE,CAAC,wCAArCG,QAAQ,eAAEC,WAAW,eAE5BL,SAAS,CAAC,UAAM,CACZM,WAAW,EAAE,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAMA,YAAW,4FAAG,sKACGC,MAAK,CAAC,gCAAgC,CAAC,CACtDC,OAAO,CAAC,CACJC,aAAa,CAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC1D,CACJ,CAAC,CAAC,QAJEC,MAAM,qCAKKA,OAAM,CAACC,IAAI,EAAE,QAA5BD,MAAM,eACNT,WAAW,CAACS,MAAM,CAAC,CAAC,sDACvB,kBARKR,YAAW,0CAQhB,CACD,GAAMU,cAAa,6FAAG,kBAAOC,EAAE,0JACRV,MAAK,yCAAkCU,EAAE,EAAI,CAC5DC,MAAM,CAAE,QACZ,CAAC,CAAC,QAFEJ,MAAM,uCAGKA,OAAM,CAACC,IAAI,EAAE,QAA5BD,MAAM,gBACN,GAAIA,MAAM,CAAE,CACRR,WAAW,EAAE,CACjB,CAAC,wDACJ,kBARKU,cAAa,6CAQlB,CACD,GAAMG,aAAY,6FAAG,kBAAOC,KAAK,uIACzBC,GAAG,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,KACxBF,GAAG,kDACgBd,MAAK,wCAAiCc,GAAG,EAAG,QAA3DP,MAAM,uCACKA,OAAM,CAACC,IAAI,EAAE,QAA5BD,MAAM,gBACN,GAAIA,MAAM,CAAE,CACRT,WAAW,CAACS,MAAM,CAAC,CACvB,CAAC,gCAEDR,WAAW,EAAE,CAAC,yDAErB,kBAXKa,aAAY,8CAWjB,CAED,mBAEI,aAAK,SAAS,CAAC,kDAAkD,wBAC7D,WAAI,SAAS,CAAC,OAAO,4BAAoB,cACzC,YAAK,SAAS,CAAC,qBAAqB,uBAChC,cAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC,WAAW,CAAC,gBAAgB,CAAC,QAAQ,CAAEA,YAAa,EAAG,EACvG,cACN,eAAO,SAAS,CAAC,kCAAkC,wBAC/C,cAAO,KAAK,CAAE,CAAEK,OAAO,CAAE,MAAO,CAAE,uBAC9B,mCACI,6BAAc,cACd,4BAAa,cACb,6BAAc,cACd,gCAAiB,cACjB,+BAAgB,cAChB,WAAI,OAAO,CAAE,CAAE,CAAC,SAAS,CAAC,aAAa,qBAElC,GACJ,EACD,cACR,uBAGQpB,QAAQ,CAACqB,MAAM,CAAG,CAAC,CAAGrB,QAAQ,CAACsB,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBAC3C,mCACI,oBAAKA,KAAK,CAAG,CAAC,EAAM,cACpB,oBAAKD,IAAI,CAACE,IAAI,EAAM,cACpB,sBAAKF,IAAI,CAACG,KAAK,OAAO,cACtB,sBAAKH,IAAI,CAACI,QAAQ,OAAO,cACzB,sBAAKJ,IAAI,CAACK,OAAO,OAAO,cACxB,WAAI,SAAS,CAAC,YAAY,uBACtB,KAAC,IAAI,EAAC,EAAE,CAAE,UAAU,CAAGL,IAAI,CAACM,GAAI,uBAC5B,eAAQ,SAAS,CAAC,qBAAqB,oBAE9B,EACN,EACN,cACL,WAAI,SAAS,CAAC,WAAW,uBACrB,eAAQ,OAAO,CAAE,yBAAMjB,cAAa,CAACW,IAAI,CAACM,GAAG,CAAC,EAAC,CAAC,SAAS,CAAC,qBAAqB,oBAEtE,EACR,GAjBAN,IAAI,CAACM,GAAG,CAkBZ,GACR,cAAG,uCAAwB,EAE5B,GACJ,GACN,CAKd,CAAC,CAED,cAAe9B,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}